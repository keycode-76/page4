(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const t of i.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&c(t)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const pe=document.createElement("div");pe.className="fuzzy-overlay";let s={},o={};const lt=()=>{o={sleepy:0,active:0,hunger:0,sanity:10},s={request:"",action:"",window_Max:2e3,window_Min:1e3,computer_normal:7e3,computer_fast:3e3,computer_hyper:1e3,staff_work:2e3,play_time:0,win:!1}},dt="/page4/assets/hey-QOcsQIX8.wav",pt="/page4/assets/a%20burr%20bour-CgfDoBm-.wav",ut="/page4/assets/machine_1-xPoump-W.wav",mt="/page4/assets/machine_2-DVRlrrFj.wav",_t="/page4/assets/working-2FX-Kuug.wav",ft="/page4/assets/beep-CNWut400.wav",wt="/page4/assets/footStep-DuEQjxwd.wav",vt="/page4/assets/walkRight-jy2YQfhD.wav",yt="/page4/assets/squeeze-0RLJtapz.wav",ht="/page4/assets/tapeClick_2-DKrG1Yqp.wav",gt="/page4/assets/lock_1-VAm-sLO_.wav",Lt="/page4/assets/hover_1-CPU6wXwn.wav",bt="/page4/assets/horror_1-CHzID-B-.wav",kt="/page4/assets/snooze_2-CnN2-c4k.wav",Dt="/page4/assets/heartbeat_2-D5c8AIz-.wav",Mt="/page4/assets/horror_2-DNL7FeZt.wav",xe=new Audio(dt),Nt=new Audio(pt),O=new Audio(ut),W=new Audio(mt),I=new Audio(_t),le=new Audio(ft),Se=new Audio(wt),qe=new Audio(vt),He=new Audio(yt),y=new Audio(ht),de=new Audio(gt),N=new Audio(Lt),Fe=new Audio(bt),Ie=new Audio(kt),U=new Audio(Dt),$e=new Audio(Mt);I.loop=!0;U.loop=!0;xe.pause();Nt.pause();O.pause();W.pause();I.pause();le.pause();Se.pause();qe.pause();He.pause();y.pause();de.pause();N.pause();Fe.pause();Ie.pause();$e.pause();const f=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,t},w=f("viewPort"),Tt=f("view_lose_cover"),Ct=f("view_lose_up"),At=f("view_lose_down"),j=f("view_lose"),Et=f("view_win"),xt=f("view_border"),X=f("screenBtnDiv"),ue=f("screenL"),me=f("screenR"),ae=e=>{w.innerHTML="",X.innerHTML="",w.append(xt,pe),e.appendChild(w)},St=()=>{X.append(ue,me),w.appendChild(X)};let M=0,S=220,Be=10,q=80,H=null;const Le=()=>{w.removeChild(X),s.win===!1?(j.innerHTML="",j.append(Ct,At),w.appendChild(j),Fe.play()):s.win===!0&&w.appendChild(Et)},qt=()=>{w.innerHTML="",X.innerHTML="",w.appendChild(pe);const e=document.querySelector("#gameArea");e.style.transform="translateX(0px)"};window.addEventListener("animationend",e=>{e.animationName==="lose_screenDown_anim"&&j.appendChild(Tt)});ue.addEventListener("mouseenter",()=>{window.innerWidth>960?(S=360,q=30):(S=220,q=50),clearInterval(H),H=setInterval(()=>{if(M<S){M+=Be;const e=document.querySelector("#gameArea");e.style.transform=`translateX(${M}px)`}},q),O.currentTime=0,O.play(),I.play()});ue.addEventListener("mouseleave",()=>{clearInterval(H),I.pause(),W.currentTime=0,W.play()});me.addEventListener("mouseenter",()=>{window.innerWidth>960?(S=360,q=30):(S=220,q=50),clearInterval(H),H=setInterval(()=>{M>-S&&(M-=Be,gameArea.style.transform=`translateX(${M}px)`),M<-140&&s.request!=""&&$e.play()},q),O.currentTime=0,O.play(),I.play()});me.addEventListener("mouseleave",()=>{clearInterval(H),I.pause(),W.currentTime=0,W.play()});const d=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,n&&(t.className=n),r&&(t.textContent=r),c&&t.addEventListener("click",c),t},Z=document.querySelector("#instruct_video"),Ht=d("choice_menu"),Ft=d("setup_menu","menu_btn","setup"),Pe=d("play_menu","menu_btn","play"),be=d("menu_btns"),It=d("menu_img"),T=d("menuArea"),ee=d("instruct_div"),$t=d("instruct_yes",0,"Play",()=>{Pt()}),_e=d("instruct_pass",0,"Pass"),re=d("warning_logo");d("logo_1");const ke=d("logoArea"),Bt=d("tutorialArea"),ze=e=>(be.append(Pe,Ft,Ht),T.append(It,be),ee.innerHTML="Would you like to watch instruction ?",e.appendChild(T));Pe.addEventListener("click",()=>{T.innerHTML="",T.appendChild(ee),ee.append($t,_e),y.play()});const Pt=()=>{T.remove(ee),Z.play(),Z.style.display="block",y.play()};Z.addEventListener("ended",()=>{Z.style.display="none",_e.click()});let B=0;window.addEventListener("animationend",e=>{e.animationName==="show_anim"?B===0?e.target.className="disappear_menu":B===1&&(re.className="disappear_menu"):e.animationName==="disappear_anim"&&(B===0?(e.target.className="",ke.innerHTML="",ke.appendChild(re),re.className="show_menu",B=1):B===1&&(T.innerHTML="",T.appendChild(Bt)))});const zt=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,t},Ot=zt("backGround"),$=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,t},R=$("face_text"),v=$("face_state"),te=$("window_blink"),Wt=$("face_rg"),Oe=$("window_outLine"),_=$("windowDiv"),Xt=e=>(v.appendChild(R),_.innerHTML="",_.className="window_start",te.style.opacity=0,v.classList.value="",R.classList.value="",_.append(Wt,v,te,Oe),We(),e.appendChild(_)),Rt=()=>{s.win===!1?(_.innerHTML="",_.appendChild(Oe),_.className="window_endLose",He.play()):s.win===!0&&(_.className="window_start",v.className="window_endWin",Ie.play())};let Gt=8e3,De=100;const We=()=>{te.style.opacity=0;const e=Math.floor(Math.random()*(Gt-De+1))+De;setTimeout(()=>{te.style.opacity=1,setTimeout(()=>{We()},150)},e)},Xe=()=>{if(!(o.sleepy>=5)&&s.request===""){const e=Math.floor(Math.random()*(s.window_Max-s.window_Min+1))+s.window_Min;setTimeout(()=>{jt()},e)}},Qt=()=>{const e=Math.floor(Math.random()*2);e===0?v.className="paper_1":e===1&&(v.className="paper_2")},Me=["active","hunger","sanity"],jt=()=>{const e=Math.floor(Math.random()*Me.length);return _.className="window_state",v.classList.value="",v.className=`window_${e}`,R.className=`face_text_${e}`,s.request=Me[e],V(s.request),K(s.request,s.computer_fast),U.pause(),U.play(),R},Kt=()=>{_.className="window_start",v.classList.value="",R.classList.value="",U.pause(),Xe()},k=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,n&&(t.className=n),r&&(t.textContent=r),c&&t.addEventListener("click",c),t},l=k("staff_door"),Vt=k("doorFrame"),P=k("doorDiv"),Yt=k("feed_btn","request_btn",0,()=>{ie("right","hunger")}),Jt=k("clean_btn","request_btn",0,()=>{ie("right","sanity")}),Ut=k("play_btn","request_btn",0,()=>{ie("right","active")}),C=k("door_btns"),fe=k("request_btns","request_btn"),Zt=e=>(P.innerHTML="",P.append(l,C,Vt),P.className="door_start",l.style.opacity=1,we(),e.appendChild(P)),en=()=>{C.appendChild(fe)},tn=e=>{Qe(),C.innerHTML="",P.className="door_black",s.win===!1?e===1?l.className="bennet_1":e===2?l.className="bennet_2":e===3&&(l.className="bennet_3"):l.className="back_1"};let nn=8e3,Ne=100,Re,Ge;const we=()=>{l.className="staff_idle";const e=Math.floor(Math.random()*(nn-Ne+1))+Ne;Ge=setTimeout(()=>{l.className="staff_blink",Re=setTimeout(()=>{we()},250)},e)},Qe=()=>{clearTimeout(Ge),clearTimeout(Re)};fe.addEventListener("click",()=>{C.innerHTML="",C.append(Yt,Jt,Ut),xe.play()});const ie=(e,n)=>{n&&(s.action=n),Qe(),e==="left"?(l.className="",setTimeout(()=>{l.classList.add(`${e}_1`),Se.play()},s.staff_work)):e==="right"&&(l.className=`${e}_1`,qe.play()),C.innerHTML=""},sn=()=>{s.action==="hunger"?(o.hunger-=2,o.sanity+=1):s.action==="sanity"?(o.sanity+=2,o.active-=1):s.action==="active"&&(o.active-=2,o.hunger+=1),s.request===s.action&&(s.request="",o.sleepy+=1,Kt()),ve(),s.action=""};window.addEventListener("animationend",e=>{if(e.animationName==="staff_right_anim")ie("left");else if(e.animationName==="staff_left_anim"){if(o.sleepy>=5)return;C.appendChild(fe),we(),sn()}else e.animationName==="staff_back_anim"?l.style.opacity=0:e.animationName==="bennet_anim"&&(l.className="bennet_jump")});const A=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,n&&(t.className=n),r&&(t.textContent=r),t},je=A("activeDiv","screen_text"),Ke=A("hungerDiv","screen_text"),Ve=A("sanityDiv","screen_text"),Ye=A("sleepyDiv","screen_text"),Je=A("click_to_start",0,"click to start"),ne=A("wallPaper"),L=A("computerDiv"),an=e=>(L.innerHTML="",ne.className="wallpaper_start",L.append(ne,Je),clearInterval(Ue),e.appendChild(L));Je.addEventListener("click",()=>{L.innerHTML="",ne.className="",L.append(ne,je,Ke,Ve,Ye),K("active",s.computer_normal),K("hunger",s.computer_normal),K("sanity",s.computer_normal),ve(),St(),Qt(),Xe(),en(),on()});let Ue;const on=()=>{Ue=setInterval(()=>{s.play_time+=15},1e3)};let Ze={};const K=(e,n)=>{Ze[e]=setInterval(()=>{o.sleepy>=5?G("win",0):(e==="active"?o.active>9?G("lose",1):o.active+=1:e==="hunger"?o.hunger>9?G("lose",2):o.hunger+=1:e==="sanity"&&(o.sanity<1?G("lose",3):o.sanity-=1),ve())},n)},V=e=>{clearInterval(Ze[e])},G=(e,n)=>{e==="lose"?(s.win=!1,L.textContent="lose"):e==="win"&&(s.win=!0,L.textContent="Win!!!"),tn(n),Rt(),rn(),L.innerHTML=""},rn=()=>{V("active"),V("hunger"),V("sanity")},ve=()=>{Ye.textContent="sleepy:"+o.sleepy,je.textContent="active: "+o.active,Ke.textContent="hunger: "+o.hunger,Ve.textContent="sanity: "+o.sanity,le.currentTime=0,le.play()},ye=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,n&&(t.className=n),r&&(t.textContent=r),t},et=ye("pass_btn","funcBtn","2"),tt=ye("danger_btn","funcBtn","1"),ce=ye("buttonsDiv"),cn=e=>(ce.innerHTML="",ce.append(tt,et),e.appendChild(ce)),nt=e=>{};et.addEventListener("click",()=>nt());tt.addEventListener("click",()=>nt());const p=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,n&&(t.className=n),r&&(t.textContent=r),c&&t.addEventListener("click",c),(a||i)&&a&&t.appendChild(a),t};let h=0;const ln=(e,n,r,c)=>{let a=null;const i=t=>{a||(a=t);const oe=Math.min((t-a)/c,1);Math.floor(oe*(r-n)+n)>0?e.innerHTML=Math.floor(oe*(r-n)+n):e.innerHTML=0,oe<1&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)},g=p("endSceneDiv"),Q=p("challengeText"),Te=p("scoreNum"),F=p("end_lock_1",0,0,e=>{it(e,1)}),se=p("end_lock_2",0,0,e=>{it(e,2)}),Y=p("end_btns"),st=p("retry_endBtn_1","end_btn",0,()=>{hn()}),he=p("disk_endBtn_1","end_btn",0,0,F),ge=p("next_endBtn_1","end_btn",0,0,se),J=p("diskDiv_1"),at=p("disk_Xbtn",0,"X"),b=p("end_btnText",0,"encrypt files"),E=p("backtomenu_btn",0,"back to menu",()=>{yn()}),dn=e=>(g.innerHTML="",Y.innerHTML="",F.style.opacity=1,se.style.opacity=1,F.className="end_lock",se.className="end_lock",h=0,ot(),e.appendChild(g));st.addEventListener("mouseover",()=>{b.textContent="retry",N.currentTime=0,N.play()});he.addEventListener("mouseover",()=>{b.textContent="disk of bennet",N.currentTime=0,N.play()});he.addEventListener("click",()=>{F.className!=="end_lock"&&(J.innerHTML="",J.appendChild(at),g.appendChild(J),y.play())});at.addEventListener("click",()=>{g.removeChild(J),y.play()});ge.addEventListener("mouseover",()=>{b.textContent="one time ticket to challenge 2",N.currentTime=0,N.play()});ge.addEventListener("click",()=>{});const it=(e,n)=>{e.target.parentElement.classList.add("end_lock_click"),n===1?b.textContent="unlock for 1000 score":n===2&&(b.textContent="unlock for 1500 score"),setTimeout(()=>{e.target.parentElement.classList.remove("end_lock_click"),b.textContent="encrypt files"},1e3),y.pause(),de.currentTime=0,de.play()},ot=()=>{if(Y.append(st,he,ge),s.win===!0)if(Q.textContent="score",h===0)g.append(Q);else if(h===1){g.append(Te,Y,b,E),E.style.opacity=0;let e=2e3-s.play_time;o.active<5&&(e+=100),o.hunger<5&&(e+=100),o.sanity>5&&(e+=100),ln(Te,0,e,2e3),e>=1e3&&e<1500?F.className="end_unlock":e>=1500&&(F.className="end_unlock",se.className="end_unlock")}else h===2&&(E.style.opacity=1);else if(s.win===!1)Q.textContent="lost connect",h===0?g.append(Q):h===1?(g.append(Y,b,E),E.style.opacity=0):h===2&&(E.style.opacity=1);else return;h+=1};window.addEventListener("animationend",e=>{e.animationName==="showEndScene_anim"?ot():e.animationName==="end_unlock_anim"&&(e.target.style.opacity=0)});const m=(e,n,r,c,a,i)=>{const t=document.createElement("div");return t.id=e,t},x=m("gameArea"),pn=m("gameFilter"),Ce=m("doorArea"),Ae=m("computerArea"),un=m("computerShadow"),mn=m("tableArea"),_n=m("buttonsArea");m("rulesArea");m("lightArea");m("fileArea");const Ee=m("windowArea"),fn=m("windowShadow"),rt=e=>{x.innerHTML="",lt(),an(Ae),cn(_n),Xt(Ee),Zt(Ce),x.append(Ce,un,Ae,fn,Ee,mn),x.append(Ot,pn),e.append(x),ae(e)};window.addEventListener("animationend",e=>{e.animationName==="bennet_anim"||e.animationName==="staff_back_anim"?Le():e.animationName==="end_screen_anim"&&(qt(),x.innerHTML="",dn(x))});const D=document.createElement("div"),z=document.createElement("div"),ct=document.createElement("div"),wn=e=>(D.innerHTML="",D.className="",z.textContent="LOADING",D.id="transDiv",z.id="trans_text",ct.id="trans_snow",z.style.display="block",D.append(z),vn(),e.appendChild(D)),vn=()=>{setTimeout(()=>{z.style.display="none",D.append(ct),D.className="trans_fade"},5e3)},u=document.querySelector("#app");ae(u);ze(u);_e.addEventListener("click",()=>{u.innerHTML="",ae(u),rt(u),wn(u),y.play()});const yn=()=>{u.removeChild(gameArea),ae(u),ze(u),y.play()},hn=()=>{u.removeChild(gameArea),rt(u),y.play()};window.addEventListener("animationend",()=>{event.animationName==="showtrans_anim"&&u.removeChild(transDiv)});
