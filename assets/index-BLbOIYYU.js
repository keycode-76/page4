(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();const fe=document.createElement("div");fe.className="fuzzy-overlay";let i={request:"",action:"",window_Max:1e4,window_Min:3e3,computer_normal:8e3,computer_fast:5e3,computer_hyper:3e3,play_time:0,win:!1},r={sleepy:0,active:0,hunger:0,sanity:10};const Be=()=>{r={sleepy:0,active:0,hunger:0,sanity:10},i={request:"",action:"",window_Max:1e4,window_Min:3e3,computer_normal:8e3,computer_fast:5e3,computer_hyper:3e3,play_time:0,win:!1}},We="/page4/assets/hey-QOcsQIX8.wav",Re="/page4/assets/a%20burr%20bour-BCoC6fhk.wav",Xe="/page4/assets/machine_1-xPoump-W.wav",Ge="/page4/assets/machine_2-DVRlrrFj.wav",ze="/page4/assets/working-2FX-Kuug.wav",Ke="/page4/assets/beep-CNWut400.wav",we=new Audio(We),ve=new Audio(Re),J=new Audio(Xe),U=new Audio(Ge),N=new Audio(ze),he=new Audio(Ke);N.loop=!0;we.pause();ve.pause();J.pause();U.pause();N.pause();he.pause();const x=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,n},y=x("viewPort"),Qe=x("view_lose"),Ve=x("view_win"),K=x("screenBtnDiv"),Y=x("screenL"),Z=x("screenR"),ee=e=>{K.append(Y,Z),y.append(fe,K),e.appendChild(y)};let g=0,b=220,ye=10,M=80,C=null;const oe=()=>{y.removeChild(K),i.win===!1?y.appendChild(Qe):i.win===!0&&y.appendChild(Ve)},je=()=>{y.innerHTML="";const e=document.querySelector("#gameArea");e.style.transform="translateX(0px)"};window.addEventListener("animationend",e=>{(e.animationName==="bennet_anim"||e.animationName==="staff_back_anim")&&oe()});Y.addEventListener("mouseenter",()=>{window.innerWidth>960?(b=360,M=30):(b=220,M=50),clearInterval(C),C=setInterval(()=>{if(g<b){g+=ye;const e=document.querySelector("#gameArea");e.style.transform=`translateX(${g}px)`}},M),J.play(),N.play()});Y.addEventListener("mouseleave",()=>{clearInterval(C),N.pause(),U.play()});Z.addEventListener("mouseenter",()=>{window.innerWidth>960?(b=360,M=30):(b=220,M=50),clearInterval(C),C=setInterval(()=>{g>-b&&(g-=ye,gameArea.style.transform=`translateX(${g}px)`)},M),J.play(),N.play()});Z.addEventListener("mouseleave",()=>{clearInterval(C),N.pause(),U.play()});const l=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,t&&(n.className=t),o&&(n.textContent=o),n},Je=l("choice_menu"),Ue=l("setup_menu","menu_btn","setup"),ge=l("play_menu","menu_btn","play"),se=l("menu_btns"),Ye=l("menu_img"),D=l("menuArea"),I=l("warning_logo"),Q=l("logo_1"),O=l("logoArea"),Ze=l("next_tutorial"),en=l("pass_tutorial","menu_btn","pass"),nn=l("tutorial_1"),be=l("tutorialArea"),tn=e=>(be.append(nn,en,Ze),O.append(Q),se.append(ge,Ue,Je),D.append(Ye,se),e.appendChild(D));ge.addEventListener("click",()=>{D.innerHTML="",D.appendChild(O),Q.className="show_menu",Q.style.opacity=0,I.style.opacity=0});let E=0;window.addEventListener("animationend",e=>{e.animationName==="show_anim"?E===0?e.target.className="disappear_menu":E===1&&(I.className="disappear_menu"):e.animationName==="disappear_anim"&&(E===0?(e.target.className="",O.innerHTML="",O.appendChild(I),I.className="show_menu",E=1):E===1&&(D.innerHTML="",D.appendChild(be)))});const an=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,n},on=an("backGround"),_=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,n},V=_("noteContent"),S=_("noteDiv"),B=_("window_blink"),sn=_("window_face"),rn=_("state_1_window"),j=_("window_glass"),Me=_("window_outLine"),m=_("windowDiv"),cn=e=>(S.appendChild(V),j.appendChild(rn),m.innerHTML="",m.className="",B.style.opacity=0,m.append(j,sn,B,Me),Le(),e.appendChild(m)),ln=()=>{m.className="end_scene"};let dn=8e3,re=100;const Le=()=>{B.style.opacity=0;const e=Math.floor(Math.random()*(dn-re+1))+re;setTimeout(()=>{B.style.opacity=1,setTimeout(()=>{Le()},300)},e)},Ce=()=>{if(!(r.sleepy>=5)&&i.request===""){const e=Math.floor(Math.random()*(i.window_Max-i.window_Min+1))+i.window_Min;setTimeout(()=>{mn()},e)}},un=()=>{const e=Math.floor(Math.random()*2);e===0?S.className="paper_1":e===1&&(S.className="paper_2")},ce=["active","hunger","sanity"],mn=()=>{const e=Math.floor(Math.random()*ce.length);return m.innerHTML="",m.append(S,j,Me),V.className=`window_${e}`,i.request=ce[e],F(i.request),$(i.request,i.computer_fast),V},pn=()=>{m.removeChild(S),Ce()},f=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,t&&(n.className=t),o&&(n.textContent=o),c&&n.addEventListener("click",c),n},d=f("staff_door"),_n=f("doorFrame"),k=f("doorDiv"),fn=f("feed_btn",0,"feed",()=>{R("right","hunger")}),wn=f("clean_btn",0,"clean",()=>{R("right","sanity")}),vn=f("playbtn",0,"play",()=>{R("right","active")}),A=f("door_btns"),ne=f("request_btn",0,"request"),hn=e=>(k.innerHTML="",k.append(d,A,_n),k.className="",d.style.opacity=1,te(),e.appendChild(k)),yn=()=>{A.appendChild(ne)},gn=e=>{Ne(),i.win===!1?(k.className="end_scene",e===1?d.className="bennet_1":e===2?d.className="bennet_2":e===3&&(d.className="bennet_3")):d.className="back_1"};let bn=8e3,le=100,De,Ae;const te=()=>{d.className="staff_idle";const e=Math.floor(Math.random()*(bn-le+1))+le;Ae=setTimeout(()=>{d.className="staff_blink",De=setTimeout(()=>{te()},250)},e)},Ne=()=>{clearTimeout(Ae),clearTimeout(De)};ne.addEventListener("click",()=>{A.innerHTML="",A.append(fn,wn,vn),we.play()});const R=(e,t)=>{t&&(i.action=t),Ne(),d.classList.value="",d.classList.add(`${e}_1`),A.innerHTML="",e==="right"&&ve.play()},Mn=()=>{i.action==="hunger"?(r.hunger-=2,r.sanity+=1):i.action==="sanity"?(r.sanity+=2,r.active-=1):i.action==="active"&&(r.active-=2,r.hunger+=1),i.request===i.action&&(i.request="",r.sleepy+=1,pn()),ie(),i.action=""};window.addEventListener("animationend",e=>{if(e.animationName==="staff_right_anim")R("left");else if(e.animationName==="staff_left_anim"){if(r.sleepy>=5)return;A.appendChild(ne),te(),Mn()}else e.animationName==="staff_back_anim"&&(d.style.opacity=0)});const v=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,t&&(n.className=t),o&&(n.textContent=o),n},xe=v("activeDiv","screen_text"),Te=v("hungerDiv","screen_text"),Ee=v("sanityDiv","screen_text"),ke=v("sleepyDiv","screen_text"),qe=v("click_to_start",0,"click to start"),W=v("wallPaper"),p=v("computerDiv"),Ln=e=>(p.innerHTML="",ie(),W.style.opacity="1",p.append(W,qe),e.appendChild(p));qe.addEventListener("click",()=>{p.innerHTML="",W.style.opacity="0.2",p.append(W,xe,Te,Ee,ke),$("active",i.computer_normal),$("hunger",i.computer_normal),$("sanity",i.computer_normal),un(),Ce(),yn()});let Se={};const $=(e,t)=>{Se[e]=setInterval(()=>{r.sleepy>=5?H("win",0):(e==="active"?r.active>9?H("lose",1):r.active+=1:e==="hunger"?r.hunger>9?H("lose",2):r.hunger+=1:e==="sanity"&&(r.sanity<1?H("lose",3):r.sanity-=1),ie())},t)},F=e=>{clearInterval(Se[e])},H=(e,t)=>{e==="lose"?(i.win=!1,p.textContent="lose"):e==="win"&&(i.win=!0,p.textContent="Win!!!"),gn(t),ln(),Cn(),p.innerHTML=""},Cn=()=>{F("active"),F("hunger"),F("sanity")},ie=()=>{ke.textContent="sleepy:"+r.sleepy,xe.textContent="active: "+r.active,Te.textContent="hunger: "+r.hunger,Ee.textContent="sanity: "+r.sanity,he.play()},ae=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,t&&(n.className=t),o&&(n.textContent=o),n},He=ae("pass_btn","funcBtn","2"),Ie=ae("danger_btn","funcBtn","1"),G=ae("buttonsDiv"),Dn=e=>(G.innerHTML="",G.append(Ie,He),e.appendChild(G)),$e=e=>{};He.addEventListener("click",()=>$e());Ie.addEventListener("click",()=>$e());let q=0;const T=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,t&&(n.className=t),o&&(n.textContent=o),n},An=(e,t,o,c)=>{let a=null;const s=n=>{a||(a=n);const X=Math.min((n-a)/c,1);Math.floor(X*(o-t)+t)>0?e.innerHTML=Math.floor(X*(o-t)+t):e.innerHTML=0,X<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)},L=T("endSceneDiv"),Nn=T("scoreText",0,"SCORE"),de=T("scoreNum"),z=T("challengeText"),P=T("nextchallenge_btn","end_btn"),Fe=T("backtomenu_btn","end_btn","back to menu"),xn=e=>(L.innerHTML="",L.append(Nn),q=0,e.appendChild(L));Fe.addEventListener("click",()=>{Hn()});P.addEventListener("click",()=>{(i.win===!1||i.win===!0)&&_e()});const Tn=()=>{if(q===0){L.append(de);let e=2e3-i.play_time;i.win===!0&&(e+=2e3),An(de,0,e,2e3)}else if(q===1)L.append(z),z.textContent="challenge failed",P.textContent="challenge again",i.win===!0&&(z.textContent="challenge success",P.textContent="next day challenge");else if(q===2)L.append(P,Fe);else return;q+=1};window.addEventListener("animationend",e=>{e.animationName==="showEndScene_anim"&&Tn()});const u=(e,t,o,c,a,s)=>{const n=document.createElement("div");return n.id=e,n},h=u("gameArea"),ue=u("doorArea"),me=u("computerArea"),En=u("tableArea"),kn=u("buttonsArea");u("rulesArea");u("lightArea");u("fileArea");const pe=u("windowArea"),Pe=e=>{h.innerHTML="",Be(),Ln(me),Dn(kn),cn(pe),hn(ue),h.append(ue,me,pe,En),h.appendChild(on),e.append(h),ee(e),qn()};window.addEventListener("animationend",e=>{e.animationName==="end_screen_anim"&&(je(),h.innerHTML="",xn(h),clearInterval(Oe))});let Oe;const qn=()=>{Oe=setInterval(()=>{i.play_time+=15},1e3)},Sn=document.createElement("div");Sn.className="show_trans";const w=document.querySelector("#app");ee(w);Pe(w);const Hn=()=>{w.removeChild(gameArea),ee(w),tn(w)},_e=()=>{w.removeChild(gameArea),Pe(w)};
